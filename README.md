# 软著文档生成工具集

这个工具集旨在帮助开发者准备软件著作权登记文档，包括筛选源代码文件和生成格式规范的文档。

## 工具说明

本工具集包含以下组件：

1. **文件筛选工具** (`file_filter.py`): 
   - 交互式界面，帮助筛选应包含在软著文档中的源代码文件
   - 支持多种项目类型：Python、前端、后端、全栈项目
   - 可配置排除规则，区分必须排除和可选排除的文件
   - 可导出筛选结果，供文档生成工具使用

2. **命令行接口** (`sofcrtpro_cli.py`):
   - 将筛选后的文件列表直接传递给文档生成工具
   - 支持配置文档格式参数
   - 简化文档生成流程

3. **筛选规则指南** (`软著文档生成指南.md`):
   - 详细说明不同项目类型的文件排除规则
   - 提供软著文档准备的最佳实践
   - 帮助开发者理解哪些文件应包含，哪些应排除

## 使用方法

### 1. 文件筛选

运行文件筛选工具，按照交互式菜单操作：

```bash
python file_filter.py
```

操作步骤：
1. 选择项目类型（Python、前端、后端或全栈项目）
2. 指定源代码目录
3. 配置可选的排除规则
4. 扫描并查看筛选结果
5. 导出文件列表

### 2. 文档生成

使用命令行接口生成文档：

```bash
python sofcrtpro_cli.py -i export/项目名_included_files.txt -n "软件名称" -v "V1.0" -o "./output/软件名称-source" --remove-empty --sort-files
```

参数说明：
- `-i, --input`: 包含文件列表的文本文件路径（由文件筛选工具生成）
- `-n, --name`: 软件名称
- `-v, --version`: 软件版本号（默认: V1.0）
- `-o, --output`: 输出文件路径（不含扩展名）
- `--font-size`: 字体大小（默认: 10.5）
- `--line-spacing`: 行间距（默认: 10.5）
- `--english-font`: 英文字体（默认: Courier New）
- `--chinese-font`: 中文字体（默认: SimSun）
- `--page-limit`: 每页最少代码行数（默认: 0, 表示不限制）
- `--remove-empty`: 移除空行
- `--sort-files`: 按重要性排序文件（后端优先，前端其次）

### 3. 查看筛选规则指南

打开 `软著文档生成指南.md` 文件，了解详细的文件筛选规则和最佳实践。

## 示例

### 筛选Python项目文件

```bash
python file_filter.py
# 选择 1 (Python项目)
# 输入源代码目录路径
# 配置排除规则
# 导出文件列表
```

### 生成文档

```bash
python sofcrtpro_cli.py -i export/myproject_included_files.txt -n "我的项目" -v "V2.0" -o "./output/我的项目-source" --font-size 10.5 --line-spacing 10.5 --remove-empty --sort-files
```

## 注意事项

1. 软著文档应当包含能够体现软件功能和创新点的核心源代码，而排除系统自动生成或非核心的文件。
2. 确保生成的文档页数在合理范围内（通常30-50页为宜）。
3. 优先包含自己编写的核心业务逻辑代码，体现软件特色功能的模块。
4. 排除第三方库、框架和工具生成的代码。

## 常见问题

**Q: 如何判断哪些文件是系统生成的？**  
A: 请参考 `软著文档生成指南.md` 中的详细说明。通常，编译产物、缓存文件、依赖包等都属于系统生成文件。

**Q: 文档生成失败怎么办？**  
A: 检查文件列表中的文件路径是否正确，确保所有文件都存在且可访问。

**Q: 如何处理大型项目？**  
A: 对于大型项目，可以只包含最具代表性的部分，按模块重要性排序，优先包含核心模块。 